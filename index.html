<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JPG to PDF Converter</title>
  <meta name="description" content="Free online JPG to PDF converter tool. Convert your images to PDF files instantly without signup.">
  <meta name="keywords" content="jpg to pdf, image to pdf, online converter, free tool, convert jpg, image converter">
  <meta name="author" content="Aasman Tools">
  <link rel="canonical" href="https://yourdomain.com/jpg-to-pdf"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="bg-blue-100 text-center">
  <!-- Header with Menu -->
  <header class="bg-blue-500 text-white py-4">
    <h1 class="text-2xl font-bold">JPG to PDF Converter</h1>
    <nav class="mt-2">
      <ul class="flex justify-center gap-6 text-sm">
        <li><a href="#" class="hover:underline">JPG to PDF</a></li>
        <li><a href="#" class="hover:underline">Tool 2</a></li>
        <li><a href="#" class="hover:underline">Tool 3</a></li>
        <li><a href="#" class="hover:underline">Tool 4</a></li>
      </ul>
    </nav>
  </header>

  <!-- Main Container -->
  <main class="max-w-3xl mx-auto mt-8 p-6 bg-white rounded shadow-md">
    <!-- Tool Name Above White Box -->
    <h2 class="text-2xl font-bold mb-4">JPG to PDF</h2>

    <!-- File Upload Box -->
    <div id="drop-area" class="border-2 border-dashed border-blue-400 p-6 rounded-lg bg-sky-200 relative">
      <input type="file" id="fileElem" multiple accept="image/*" class="hidden">
      <label for="fileElem" class="cursor-pointer text-blue-900 font-semibold">CHOOSE FILES</label>
      <p class="text-sm text-gray-700 mt-2">or drop files here</p>
    </div>

    <!-- Preview Images Container -->
    <div id="preview" class="mt-4 flex flex-wrap justify-center gap-4"></div>

    <!-- Page & Orientation -->
    <div class="flex flex-col md:flex-row justify-center items-center gap-4 mt-4">
      <select id="pageSize" class="p-2 rounded border border-gray-300">
        <option value="a4">A4</option>
        <option value="letter">Letter</option>
      </select>
      <select id="orientation" class="p-2 rounded border border-gray-300">
        <option value="portrait">Portrait</option>
        <option value="landscape">Landscape</option>
      </select>
    </div>

    <!-- Download Button -->
    <button id="downloadBtn" class="mt-6 px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
      Download PDF
    </button>
  </main>

  <!-- Footer -->
  <footer class="mt-10 text-sm text-gray-700">
    Made with ❤️ in India | Copowered by Aasman
  </footer>

  <script>
    const dropArea = document.getElementById('drop-area');
    const fileElem = document.getElementById('fileElem');
    const preview = document.getElementById('preview');
    let imageFiles = [];

    dropArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropArea.classList.add('bg-blue-100');
    });

    dropArea.addEventListener('dragleave', () => {
      dropArea.classList.remove('bg-blue-100');
    });

    dropArea.addEventListener('drop', (e) => {
      e.preventDefault();
      dropArea.classList.remove('bg-blue-100');
      handleFiles(e.dataTransfer.files);
    });

    fileElem.addEventListener('change', () => {
      handleFiles(fileElem.files);
    });

    function handleFiles(files) {
      for (const file of files) {
        if (!file.type.startsWith('image/')) continue;
        const reader = new FileReader();
        reader.onload = (e) => {
          imageFiles.push(e.target.result);
          renderPreviews();
        };
        reader.readAsDataURL(file);
      }
    }

    function renderPreviews() {
      preview.innerHTML = '';
      imageFiles.forEach((src, index) => {
        const div = document.createElement('div');
        div.className = 'relative group';
        div.draggable = true;
        div.dataset.index = index;

        const img = document.createElement('img');
        img.src = src;
        img.className = 'w-36 h-36 object-cover border border-gray-300 rounded';

        const label = document.createElement('div');
        label.innerText = index + 1;
        label.className = 'absolute top-0 left-0 bg-blue-500 text-white text-xs px-1 rounded-br';

        const deleteBtn = document.createElement('button');
        deleteBtn.innerHTML = '&times;';
        deleteBtn.className = 'absolute top-0 right-0 bg-red-600 text-white text-xs px-1 rounded-bl opacity-80 hover:opacity-100';
        deleteBtn.onclick = () => {
          imageFiles.splice(index, 1);
          renderPreviews();
        };

        div.appendChild(img);
        div.appendChild(label);
        div.appendChild(deleteBtn);
        preview.appendChild(div);

        div.addEventListener('dragstart', (e) => {
          e.dataTransfer.setData('text/plain', index);
        });

        div.addEventListener('dragover', (e) => e.preventDefault());

        div.addEventListener('drop', (e) => {
          e.preventDefault();
          const fromIndex = parseInt(e.dataTransfer.getData('text/plain'));
          const toIndex = parseInt(div.dataset.index);
          const [moved] = imageFiles.splice(fromIndex, 1);
          imageFiles.splice(toIndex, 0, moved);
          renderPreviews();
        });
      });
    }

    document.getElementById('downloadBtn').addEventListener('click', async () => {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF({
        orientation: document.getElementById('orientation').value,
        unit: 'pt',
        format: document.getElementById('pageSize').value
      });

      for (let i = 0; i < imageFiles.length; i++) {
        if (i !== 0) doc.addPage();
        const img = new Image();
        img.src = imageFiles[i];
        await new Promise((resolve) => {
          img.onload = () => {
            const ratio = Math.min(
              doc.internal.pageSize.getWidth() / img.width,
              doc.internal.pageSize.getHeight() / img.height
            );
            const width = img.width * ratio;
            const height = img.height * ratio;
            const x = (doc.internal.pageSize.getWidth() - width) / 2;
            const y = (doc.internal.pageSize.getHeight() - height) / 2;
            doc.addImage(img, 'JPEG', x, y, width, height);
            resolve();
          };
        });
      }
      doc.save('converted.pdf');
    });
  </script>
</body>
</html>
